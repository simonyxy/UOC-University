---
title:  数据异步加载 和 资源异步加载 在界面中同时进行的建议
tag:  lua开发
---
**对于Lua的一些编写总结**
<!-- more -->


**数据异步加载 和 资源异步加载 在界面中同时进行的建议：**
当界面是 资源的异步加载 和 数据的异步加载（比如数据是通过协议得到的），无法判断二者哪个先获得的情况下。这边建议是比较普遍的将数据和资源以及资源赋值相互解耦，
也就是写成 加载资源、保存数据、将数据赋值给资源 三个方法。其中将数据赋值给资源的方法，若无数据或资源未加载完成则返回

那么在界面打开的时候同时请求加载资源和请求数据。当资源加载完后，调用数据赋值的方法。如果此时资源没数据，则返回。，有数据则赋值
在保存数据的方法中，保存后调用将数据赋值给资源的方法，如果资源没有加载完则返回。资源加载完后则赋值
因为资源加载和保存数据 总有一个先一个后，所以将数据赋值给资源的方法，其实终归只会被调用一次 
